{"remainingRequest":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\components\\hospital\\department\\AppointmentForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\components\\hospital\\department\\AppointmentForm.vue","mtime":1629383430986},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQoNCiAgcHJvcHM6IHsNCiAgICB0b2dnbGU6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlDQogICAgfSwNCiAgICBlZGl0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIGRlcGFydG1lbnQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRlcjogZmFsc2UsDQogICAgICBzdGF0dXNJdGVtczogWydBY3RpdmUnLCAnRGlzYWJsZSddLA0KDQogICAgICAvLyBTZWFyY2ggcGF0aWVudA0KICAgICAgY2hpcFNlbGVjdGlvbjogMCwNCiAgICAgIHNlYXJjaDogdHJ1ZSwNCiAgICAgIHNlYXJjaFR5cGU6ICdpZCcsDQogICAgICBpZFNlYXJjaDogJycsDQogICAgICBlbWFpbFNlYXJjaDogJycsDQogICAgICBwaG9uZU51bWJlclNlYXJjaDogJycsDQogICAgICBlcnJvck1lc3NhZ2U6ICcnLA0KDQogICAgICAvLyBwYXRpZW50IGZvdW5kDQogICAgICBwYXRpZW50Rm91bmQ6IGZhbHNlLA0KICAgICAgc2VsZWN0ZWRQYXRpZW50OiB7fSwNCg0KICAgICAgLy8gbmV3IHBhdGllbnQNCiAgICAgIG5ld0Zvcm06IGZhbHNlLA0KICAgICAgYWRkUGF0aWVudExvYWRlcjogZmFsc2UsDQogICAgICBwYXRpZW50OiB7fSwNCiAgICAgIG1lbnU6IGZhbHNlLA0KICAgICAgc2V4SXRlbXM6IFsNCiAgICAgICAgJ03DomxlJywNCiAgICAgICAgJ0ZlbWVsbGUnDQogICAgICBdLA0KICAgICAgZ3JpZDogew0KICAgICAgICBzbTogMTIsDQogICAgICAgIG1kOiAxMiwNCiAgICAgICAgbGc6IDYsDQogICAgICB9LA0KDQogICAgICAvLyBkb2N0b3INCiAgICAgIGRvY3Rvckl0ZW1zOiBbXSwNCiAgICAgIHNlbGVjdGVkRG9jdG9yOiBudWxsLA0KICAgICAgZG9jdG9yOiB7fSwNCg0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgICByZXF1aXJlZDogdmFsdWUgPT4gISF2YWx1ZSB8fCAnUmVxdWlyZWQuJywNCiAgICAgICAgICBjb3VudGVyOiB2YWx1ZSA9PiB2YWx1ZS5sZW5ndGggPD0gMjAgfHwgJ01heCAyMCBjaGFyYWN0ZXJzJywNCiAgICAgICAgICBlbWFpbDogdmFsdWUgPT4gew0KICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLw0KICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh2YWx1ZSkgfHwgJ0ludmFsaWQgZS1tYWlsLicNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KDQogICAgfQ0KICB9LA0KDQogIHdhdGNoOiB7DQoNCiAgfSwNCg0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKHsNCiAgICAgIGRvY3RvcnM6IChzdGF0ZSkgPT4gc3RhdGUuZGVwYXJ0bWVudC5kb2N0b3JzLA0KICAgICAgbG9nZ2VkSW5Vc2VyOiBzdGF0ZSA9PiBzdGF0ZS5hdXRoLmxvZ2dlZEluVXNlcg0KICAgIH0pDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmZpcmVEZXBhcnRtZW50RG9jdG9ycygpDQogIH0sDQoNCiAgbWV0aG9kczogew0KDQogICAgYXN5bmMgYWRkTmV3UGF0aWVudCgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIHRoaXMuYWRkUGF0aWVudExvYWRlciA9IHRydWUNCiAgICAgICAgY29uc3QgYm9keSA9IHsNCiAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMucGF0aWVudC5maXJzdE5hbWUsDQogICAgICAgICAgbGFzdE5hbWU6IHRoaXMucGF0aWVudC5sYXN0TmFtZSwNCiAgICAgICAgICBlbWFpbDogdGhpcy5wYXRpZW50LmVtYWlsLA0KICAgICAgICAgIHBob25lTnVtYmVyOiB0aGlzLnBhdGllbnQucGhvbmVOdW1iZXIsDQogICAgICAgICAgYWRkcmVzczogdGhpcy5wYXRpZW50LmFkZHJlc3MsDQogICAgICAgICAgZG9iOiB0aGlzLnBhdGllbnQuZG9iLA0KICAgICAgICAgIHNleDogdGhpcy5wYXRpZW50LnNleCwNCiAgICAgICAgICB3ZWlnaHQ6ICcnLA0KICAgICAgICAgIGhlaWdodDogJycsDQogICAgICAgICAgYmxvb2RHcm91cDogJycsDQogICAgICAgICAgcHJlQ29uZGl0aW9uczogW10sDQogICAgICAgICAgZGlzZWFzZXM6IFtdLA0KICAgICAgICAgIGNyZWF0ZWRCeTogJ0hvc3BpdGFsIEhlYWQnLA0KICAgICAgICAgIGNyZWF0ZWRCeUlkOiB0aGlzLmxvZ2dlZEluVXNlci5pZCwNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuc2VsZWN0ZWRQYXRpZW50ID0gYXdhaXQgdGhpcy5hZGRQYXRpZW50QnlTdGFmZihib2R5KQ0KDQogICAgICAgIGlmKCF0aGlzLnNlbGVjdGVkUGF0aWVudCkgcmV0dXJuIFByb21pc2UucmVqZWN0KCJFcnJvciBpbiBhZGRpbmcgcGF0aWVudCIpDQoNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUGF0aWVudCkNCg0KICAgICAgICAgIHRoaXMuYWRkUGF0aWVudExvYWRlciA9IGZhbHNlDQogICAgICAgICAgdGhpcy5zZWFyY2ggPSBmYWxzZQ0KICAgICAgICAgIHRoaXMubmV3Rm9ybSA9IGZhbHNlDQogICAgICAgICAgdGhpcy5wYXRpZW50Rm91bmQgPSB0cnVlDQoNCiAgICAgICAgICByZXR1cm4gdHJ1ZQ0KDQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB0aGlzLmFkZFBhdGllbnRMb2FkZXIgPSBmYWxzZQ0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgcmV0dXJuIGVycm9yDQogICAgICB9DQogICAgDQoNCiAgICB9LA0KDQogICAgZGlzYWJsZVNlYXJjaCgpIHsNCiAgICAgIHRoaXMuc2VhcmNoID0gZmFsc2UNCiAgICAgIHRoaXMubmV3Rm9ybSA9IHRydWUNCiAgICB9LA0KDQogICAgZGlzYWJsZU5ldygpIHsNCiAgICAgIHRoaXMuc2VhcmNoID0gdHJ1ZQ0KICAgICAgdGhpcy5uZXdGb3JtID0gZmFsc2UNCiAgICB9LA0KDQogICAgb25Eb2N0b3JTZWxlY3QoKSB7DQogICAgICBpZih0aGlzLnNlbGVjdGVkRG9jdG9yICE9IG51bGwpIHsNCiAgICAgICAgbGV0IGlkID0gdGhpcy5zZWxlY3RlZERvY3Rvci5zcGxpdCgnKCcpDQogICAgICAgIGxldCByZWFsSWQgPSBpZFsxXS5zcGxpdCgnKScpDQogICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmRvY3RvcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZih0aGlzLmRvY3RvcnNbaV0uY3VzdG9tSWQgPT0gcmVhbElkWzBdKSB7DQogICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuZG9jdG9yc1tpXS5mdWxsTmFtZS5zcGxpdCgiICIpDQogICAgICAgICAgICB0aGlzLmRvY3RvciA9IHRoaXMuZG9jdG9yc1tpXQ0KICAgICAgICAgICAgdGhpcy5kb2N0b3IuZmlyc3ROYW1lID0gbmFtZVswXQ0KICAgICAgICAgICAgdGhpcy5kb2N0b3IubGFzdE5hbWUgPSBuYW1lWzFdDQogICAgICAgICAgfQ0KICAgICAgICB9IA0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBzYXZlKGRhdGUpIHsNCiAgICAgIHRoaXMuJHJlZnMubWVudS5zYXZlKGRhdGUpOw0KICAgIH0sDQoNCiAgICBhc3luYyBmaXJlRGVwYXJ0bWVudERvY3RvcnMoKSB7DQogICAgICBsZXQgZGVwSWQgPSB0aGlzLmRlcGFydG1lbnQuc3BsaXQoJ0QnKQ0KICAgICAgYXdhaXQgdGhpcy5nZXREZXBhcnRtZW50RG9jdG9ycyhkZXBJZFsxXSkNCiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmRvY3RvcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IGRvYyA9IGBEci4gJHt0aGlzLmRvY3RvcnNbaV0uZnVsbE5hbWV9ICgke3RoaXMuZG9jdG9yc1tpXS5jdXN0b21JZH0pYA0KICAgICAgICB0aGlzLmRvY3Rvckl0ZW1zLnB1c2goZG9jKQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBzZWFyY2hpbmcoKSB7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLmlkU2VhcmNoKQ0KICAgICAgY29uc29sZS5sb2codGhpcy5lbWFpbFNlYXJjaCkNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGhvbmVOdW1iZXJTZWFyY2gpDQogICAgfSwNCg0KICAgIC4uLm1hcEFjdGlvbnMoew0KICAgICAgY3JlYXRlTmV3RGVwYXJ0bWVudDogJ2RlcGFydG1lbnQvY3JlYXRlTmV3RGVwYXJ0bWVudCcsDQogICAgICBlZGl0RGVwYXJ0bWVudDogJ2RlcGFydG1lbnQvZWRpdERlcGFydG1lbnQnLA0KICAgICAgZ2V0RGVwYXJ0bWVudERvY3RvcnM6ICJkZXBhcnRtZW50L2dldERlcGFydG1lbnREb2N0b3JzIiwNCiAgICAgIGFkZFBhdGllbnRCeVN0YWZmOiAicGF0aWVudC9hZGRQYXRpZW50QnlTdGFmZiIsDQogICAgfSksDQoNCg0KICB9DQoNCn0NCg=="},{"version":3,"sources":["AppointmentForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2UA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA","file":"AppointmentForm.vue","sourceRoot":"src/components/hospital/department","sourcesContent":["<template>\r\n  <v-card>\r\n    <div class=\"card-header\">\r\n      <v-card-title class=\"d-flex justify-space-between pa-5 text--white\">\r\n        <!-- <div v-if=\"formType === 'New'\">Create New Company</div> -->\r\n        <!-- <div v-else>Edit Company</div> -->\r\n        <div class=\"white--text\" v-if=\"edit\">Edit Rendez-vous</div>\r\n        <div class=\"white--text\" v-else>Rendez-vous</div>\r\n        <v-icon dark class=\"d-none d-sm-flex\" @click=\"toggle\"\r\n          >mdi-close-thick</v-icon\r\n        >\r\n      </v-card-title>\r\n    </div>\r\n    <v-divider />\r\n    <v-card-text style=\"height: auto\">\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-expand-transition>\r\n            <v-card flat elevation=\"0\" v-show=\"search\">\r\n              <v-card-text style=\"height: auto\">\r\n                <div class=\"d-flex justify-end\">\r\n                  <v-btn outlined elevation=\"0\" @click=\"disableSearch()\">Add New Patient</v-btn>\r\n                </div>\r\n                <v-chip-group\r\n                  class=\"mt-5\"\r\n                  v-model=\"chipSelection\"\r\n                  active-class=\"primary white--text\"\r\n                  column\r\n                >\r\n                  <v-chip @click=\"searchType = 'id'\">ID</v-chip>\r\n\r\n                  <v-chip @click=\"searchType = 'email'\">Email</v-chip>\r\n\r\n                  <v-chip @click=\"searchType = 'phone'\">Phone Number</v-chip>\r\n                </v-chip-group>\r\n                <v-subheader class=\"red--text\">{{ errorMessage }}</v-subheader>\r\n                <div v-if=\"searchType == 'id'\">\r\n                  <v-text-field\r\n                    v-model=\"idSearch\"\r\n                    label=\"Search Patient by ID\"\r\n                    hint=\"SN-P00000001\"\r\n                    solo\r\n                    @keydown.enter=\"searching\"\r\n                  ></v-text-field>\r\n                </div>\r\n                <div v-else-if=\"searchType == 'phone'\">\r\n                  <v-text-field\r\n                    v-model=\"phoneNumberSearch\"\r\n                    label=\"Search Patient by Phone Number\"\r\n                    hint=\"+#########\"\r\n                    solo\r\n                    @keydown.enter=\"searching\"\r\n                  ></v-text-field>\r\n                </div>\r\n                <div v-else>\r\n                  <v-text-field\r\n                    v-model=\"emailSearch\"\r\n                    label=\"Search Patient by Email\"\r\n                    :rules=\"[rules.email]\"\r\n                    solo\r\n                    @keydown.enter=\"searching\"\r\n                  ></v-text-field>\r\n                </div>\r\n                <v-btn\r\n                  @click.stop=\"searching\"\r\n                  color=\"primary\"\r\n                  block\r\n                  elevation=\"0\"\r\n                  :loading=\"loader\"\r\n                  class=\"text-capitalize px-5\"\r\n                  >Search</v-btn\r\n                >\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n          <v-expand-transition>\r\n            <v-card flat elevation=\"0\" v-show=\"newForm\">\r\n              <v-card-text style=\"height: auto\">\r\n                <div class=\"d-flex justify-end\">\r\n                  <v-btn outlined elevation=\"0\" @click=\"disableNew()\">Search Patient</v-btn>\r\n                </div>\r\n                <v-row :no-gutters=\"$vuetify.breakpoint.xsOnly ? true : false\" class=\"mt-5\">\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Prénom\"\r\n                      v-model=\"patient.firstName\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Nom de famille\"\r\n                      v-model=\"patient.lastName\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-select\r\n                      outlined\r\n                      dense\r\n                      :items=\"sexItems\"\r\n                      label=\"le sexe\"\r\n                      v-model=\"patient.sex\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Numéro de contact\"\r\n                      v-model=\"patient.phoneNumber\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-menu\r\n                      ref=\"menu\"\r\n                      v-model=\"menu\"\r\n                      :close-on-content-click=\"false\"\r\n                      transition=\"scale-transition\"\r\n                      offset-y\r\n                      min-width=\"auto\"\r\n                    >\r\n                      <template v-slot:activator=\"{ on, attrs }\">\r\n                        <v-text-field\r\n                          v-model=\"patient.dob\"\r\n                          label=\"Date de naissance\"\r\n                          append-icon=\"mdi-calendar\"\r\n                          readonly\r\n                          dense\r\n                          outlined\r\n                          v-bind=\"attrs\"\r\n                          v-on=\"on\"\r\n                        ></v-text-field>\r\n                      </template>\r\n                      <v-date-picker\r\n                        ref=\"picker\"\r\n                        v-model=\"patient.dob\"\r\n                        :max=\"new Date().toISOString().substr(0, 10)\"\r\n                        min=\"1950-01-01\"\r\n                        @change=\"save\"\r\n                      ></v-date-picker>\r\n                    </v-menu>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"E-mail\"\r\n                      v-model=\"patient.email\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Adresse\"\r\n                      v-model=\"patient.address\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-btn\r\n                      @click.stop=\"addNewPatient\"\r\n                      color=\"primary\"\r\n                      block\r\n                      elevation=\"0\"\r\n                      :loading=\"addPatientLoader\"\r\n                      class=\"text-capitalize px-5\"\r\n                      >Add</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n          <v-expand-transition v-if=\"patientFound\">\r\n            <v-card elevation=\"0\">\r\n              <v-card-text class=\"pt-5\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\">\r\n                    <v-subheader>Patient - {{ selectedPatient.customId}}</v-subheader>\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>First Name</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ selectedPatient.firstName }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Last Name</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ selectedPatient.lastName }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Title</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ selectedPatient.dob }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Email</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ selectedPatient.sex }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Phone Number</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ selectedPatient.phoneNumber }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n        </v-col>\r\n        <v-divider vertical class=\"mt-5\"></v-divider>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-select\r\n            class=\"mt-4\"\r\n            outlined\r\n            dense\r\n            :items=\"doctorItems\"\r\n            label=\"Doctor\"\r\n            v-model=\"selectedDoctor\"\r\n            @change=\"onDoctorSelect()\"\r\n          />\r\n          <v-expand-transition v-if=\"selectedDoctor != null\">\r\n            <v-card elevation=\"0\">\r\n              <v-card-text class=\"pt-5\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>First Name</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ doctor.firstName }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Last Name</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ doctor.lastName }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Title</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ doctor.title }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Email</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ doctor.email }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Phone Number</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ doctor.phoneNumber }}</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n        </v-col>\r\n      </v-row>\r\n      \r\n    </v-card-text>\r\n    <v-divider />\r\n    <v-card-actions class=\"py-5 px-5\">\r\n      <v-row no-gutters justify-sm=\"space-between\">\r\n        <v-col cols=\"12\" sm=\"auto\" order=\"2\" order-sm=\"1\">\r\n          <v-btn\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"grey\"\r\n            class=\"mt-5 mt-sm-0\"\r\n            elevation=\"0\"\r\n            dark\r\n            @click=\"toggle\"\r\n            >Cancel\r\n          </v-btn>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"auto\" order=\"1\" order-sm=\"1\">\r\n          <v-btn\r\n            v-if=\"edit\"\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"primary\"\r\n            elevation=\"0\"\r\n            dark\r\n            :loading=\"loader\"\r\n          >\r\n            Confirm Edit\r\n          </v-btn>\r\n          <v-btn\r\n            v-else\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"primary\"\r\n            elevation=\"0\"\r\n            dark\r\n            :loading=\"loader\"\r\n          >\r\n            Confirm\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex'\r\nexport default {\r\n\r\n  props: {\r\n    toggle: {\r\n      type: Function,\r\n      required: false\r\n    },\r\n    edit: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    department: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      statusItems: ['Active', 'Disable'],\r\n\r\n      // Search patient\r\n      chipSelection: 0,\r\n      search: true,\r\n      searchType: 'id',\r\n      idSearch: '',\r\n      emailSearch: '',\r\n      phoneNumberSearch: '',\r\n      errorMessage: '',\r\n\r\n      // patient found\r\n      patientFound: false,\r\n      selectedPatient: {},\r\n\r\n      // new patient\r\n      newForm: false,\r\n      addPatientLoader: false,\r\n      patient: {},\r\n      menu: false,\r\n      sexItems: [\r\n        'Mâle',\r\n        'Femelle'\r\n      ],\r\n      grid: {\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 6,\r\n      },\r\n\r\n      // doctor\r\n      doctorItems: [],\r\n      selectedDoctor: null,\r\n      doctor: {},\r\n\r\n      rules: {\r\n          required: value => !!value || 'Required.',\r\n          counter: value => value.length <= 20 || 'Max 20 characters',\r\n          email: value => {\r\n            const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n            return pattern.test(value) || 'Invalid e-mail.'\r\n          },\r\n        },\r\n\r\n    }\r\n  },\r\n\r\n  watch: {\r\n\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      doctors: (state) => state.department.doctors,\r\n      loggedInUser: state => state.auth.loggedInUser\r\n    })\r\n  },\r\n\r\n  mounted() {\r\n    this.fireDepartmentDoctors()\r\n  },\r\n\r\n  methods: {\r\n\r\n    async addNewPatient() {\r\n      try {\r\n        this.addPatientLoader = true\r\n        const body = {\r\n          firstName: this.patient.firstName,\r\n          lastName: this.patient.lastName,\r\n          email: this.patient.email,\r\n          phoneNumber: this.patient.phoneNumber,\r\n          address: this.patient.address,\r\n          dob: this.patient.dob,\r\n          sex: this.patient.sex,\r\n          weight: '',\r\n          height: '',\r\n          bloodGroup: '',\r\n          preConditions: [],\r\n          diseases: [],\r\n          createdBy: 'Hospital Head',\r\n          createdById: this.loggedInUser.id,\r\n        }\r\n\r\n        this.selectedPatient = await this.addPatientByStaff(body)\r\n\r\n        if(!this.selectedPatient) return Promise.reject(\"Error in adding patient\")\r\n\r\n          console.log(this.selectedPatient)\r\n\r\n          this.addPatientLoader = false\r\n          this.search = false\r\n          this.newForm = false\r\n          this.patientFound = true\r\n\r\n          return true\r\n\r\n      } catch (error) {\r\n        this.addPatientLoader = false\r\n        console.log(error)\r\n        return error\r\n      }\r\n    \r\n\r\n    },\r\n\r\n    disableSearch() {\r\n      this.search = false\r\n      this.newForm = true\r\n    },\r\n\r\n    disableNew() {\r\n      this.search = true\r\n      this.newForm = false\r\n    },\r\n\r\n    onDoctorSelect() {\r\n      if(this.selectedDoctor != null) {\r\n        let id = this.selectedDoctor.split('(')\r\n        let realId = id[1].split(')')\r\n        for(let i = 0; i < this.doctors.length; i++) {\r\n          if(this.doctors[i].customId == realId[0]) {\r\n            let name = this.doctors[i].fullName.split(\" \")\r\n            this.doctor = this.doctors[i]\r\n            this.doctor.firstName = name[0]\r\n            this.doctor.lastName = name[1]\r\n          }\r\n        } \r\n      }\r\n    },\r\n\r\n    save(date) {\r\n      this.$refs.menu.save(date);\r\n    },\r\n\r\n    async fireDepartmentDoctors() {\r\n      let depId = this.department.split('D')\r\n      await this.getDepartmentDoctors(depId[1])\r\n      for(let i = 0; i < this.doctors.length; i++) {\r\n        let doc = `Dr. ${this.doctors[i].fullName} (${this.doctors[i].customId})`\r\n        this.doctorItems.push(doc)\r\n      }\r\n    },\r\n\r\n    searching() {\r\n      console.log(this.idSearch)\r\n      console.log(this.emailSearch)\r\n      console.log(this.phoneNumberSearch)\r\n    },\r\n\r\n    ...mapActions({\r\n      createNewDepartment: 'department/createNewDepartment',\r\n      editDepartment: 'department/editDepartment',\r\n      getDepartmentDoctors: \"department/getDepartmentDoctors\",\r\n      addPatientByStaff: \"patient/addPatientByStaff\",\r\n    }),\r\n\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}