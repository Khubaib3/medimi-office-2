{"remainingRequest":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\views\\hospitalHead\\Patients.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\views\\hospitalHead\\Patients.vue","mtime":1629816877850},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkZXBhcnRtZW50SXRlbXM6IFtdLA0KICAgICAgc2VsZWN0ZWREZXBhcnRtZW50OiAiIiwNCg0KICAgICAgLy8gdGFibGUNCiAgICAgIHBhdGllbnRUYWJsZUxvYWRlcjogZmFsc2UsDQogICAgICBwYXRpZW50czogW10sDQogICAgICBwYXRpZW50SGVhZGVyczogWw0KICAgICAgICB7IHRleHQ6ICJJRCIsIHZhbHVlOiAiY3VzdG9tSWQiIH0sDQogICAgICAgIHsgdGV4dDogIk5hbWUiLCB2YWx1ZTogImZ1bGxOYW1lIiB9LA0KICAgICAgICB7IHRleHQ6ICJET0IiLCB2YWx1ZTogImRvYiIgfSwNCiAgICAgICAgeyB0ZXh0OiAiRW1haWwiLCB2YWx1ZTogImVtYWlsIiB9LA0KICAgICAgICB7IHRleHQ6ICJQaG9uZSBOdW1iZXIiLCB2YWx1ZTogInBob25lTnVtYmVyIiB9LA0KICAgICAgICB7IHRleHQ6ICIiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwNCiAgICAgIF0NCiAgICB9Ow0KICB9LA0KDQogIHdhdGNoOiB7DQogICAgc2VsZWN0ZWREZXBhcnRtZW50KHZhbCkgew0KICAgICAgdGhpcy5wYXRpZW50cyA9IFtdDQogICAgICBsZXQgaWQgPSB2YWwuc3BsaXQoJ0QnKQ0KICAgICAgdGhpcy5vbkRlcGFydG1lbnRDaGFuZ2UoaWRbMV0pDQogICAgfQ0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoew0KICAgICAgZGVwYXJ0bWVudHM6IChzdGF0ZSkgPT4gc3RhdGUuZGVwYXJ0bWVudC5kZXBhcnRtZW50cywNCiAgICB9KSwNCiAgfSwNCg0KICBhc3luYyBtb3VudGVkKCkgew0KICAgIGlmICh0aGlzLmRlcGFydG1lbnRzLmxlbmd0aCA9PSAwKSB7DQogICAgICBhd2FpdCB0aGlzLmdldERlcGFydG1lbnRzKCk7DQogICAgICB0aGlzLmRlcGFydG1lbnRzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHsNCiAgICAgICAgdGhpcy5kZXBhcnRtZW50SXRlbXMucHVzaCh2YWx1ZS5jdXN0b21JZCk7DQogICAgICB9KTsNCiAgICB9DQogICAgdGhpcy5kZXBhcnRtZW50cy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7DQogICAgICB0aGlzLmRlcGFydG1lbnRJdGVtcy5wdXNoKHZhbHVlLmN1c3RvbUlkKTsNCiAgICB9KTsNCiAgfSwNCg0KICANCg0KICBtZXRob2RzOiB7DQoNCiAgICBhc3luYyBvbkRlcGFydG1lbnRDaGFuZ2UoaWQpIHsNCiAgICAgIHRoaXMucGF0aWVudHMgPSBhd2FpdCB0aGlzLmdldERlcGFydG1lbnRQYXRpZW50cyh7IGlkOiBpZCB9KQ0KICAgIH0sDQoNCiAgICBvcGVuUGF0aWVudERpYWxvZyhpZCkgew0KICAgICAgY29uc29sZS5sb2coaWQpDQogICAgfSwNCg0KICAgIC4uLm1hcEFjdGlvbnMoew0KICAgICAgZ2V0RGVwYXJ0bWVudHM6ICJkZXBhcnRtZW50L2dldERlcGFydG1lbnRzIiwNCiAgICAgIGdldERlcGFydG1lbnRQYXRpZW50czogInBhdGllbnQvZ2V0RGVwYXJ0bWVudFBhdGllbnRzIg0KICAgIH0pLA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Patients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Patients.vue","sourceRoot":"src/views/hospitalHead","sourcesContent":["<template>\r\n  <v-sheet class=\"pa-5\">\r\n    <div\r\n      class=\"d-flex align-center justify-space-between flex-column flex-sm-row\"\r\n    >\r\n      <h2>Patients des services</h2>\r\n      <div style=\"width: 50%\">\r\n        <v-select\r\n          :items=\"departmentItems\"\r\n          v-model=\"selectedDepartment\"\r\n          outlined\r\n          hide-details\r\n          dense\r\n          @change=\"onDepartmentChange()\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <v-card flat>\r\n      <v-card-text>\r\n        <v-data-table\r\n          :headers=\"patientHeaders\"\r\n          :items=\"patients\"\r\n          :loading=\"patientTableLoader\"\r\n          loading-text=\"Loading... Please wait\"\r\n          class=\"mt-10\"\r\n        >\r\n          <template v-slot:[`item.actions`]=\"{ item }\">\r\n            <v-icon class=\"mr-2\" small @click=\"openPatientDialog(item.id)\">\r\n              mdi-arrow-expand-all\r\n            </v-icon>\r\n          </template>\r\n        </v-data-table>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-sheet>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      departmentItems: [],\r\n      selectedDepartment: \"\",\r\n\r\n      // table\r\n      patientTableLoader: false,\r\n      patients: [],\r\n      patientHeaders: [\r\n        { text: \"ID\", value: \"customId\" },\r\n        { text: \"Name\", value: \"fullName\" },\r\n        { text: \"DOB\", value: \"dob\" },\r\n        { text: \"Email\", value: \"email\" },\r\n        { text: \"Phone Number\", value: \"phoneNumber\" },\r\n        { text: \"\", value: \"actions\", sortable: false },\r\n      ]\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    selectedDepartment(val) {\r\n      this.patients = []\r\n      let id = val.split('D')\r\n      this.onDepartmentChange(id[1])\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      departments: (state) => state.department.departments,\r\n    }),\r\n  },\r\n\r\n  async mounted() {\r\n    if (this.departments.length == 0) {\r\n      await this.getDepartments();\r\n      this.departments.forEach((value, key) => {\r\n        this.departmentItems.push(value.customId);\r\n      });\r\n    }\r\n    this.departments.forEach((value, key) => {\r\n      this.departmentItems.push(value.customId);\r\n    });\r\n  },\r\n\r\n  \r\n\r\n  methods: {\r\n\r\n    async onDepartmentChange(id) {\r\n      this.patients = await this.getDepartmentPatients({ id: id })\r\n    },\r\n\r\n    openPatientDialog(id) {\r\n      console.log(id)\r\n    },\r\n\r\n    ...mapActions({\r\n      getDepartments: \"department/getDepartments\",\r\n      getDepartmentPatients: \"patient/getDepartmentPatients\"\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}