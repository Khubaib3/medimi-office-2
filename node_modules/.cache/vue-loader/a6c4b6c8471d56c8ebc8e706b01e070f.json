{"remainingRequest":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\components\\hospital\\department\\PreAppointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\components\\hospital\\department\\PreAppointment.vue","mtime":1629809023950},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHRvZ2dsZTogew0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfSwNCiAgICBlZGl0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgfSwNCiAgICBkZXBhcnRtZW50OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRlcjogZmFsc2UsDQogICAgICBzdGF0dXNJdGVtczogWyJBY3RpdmUiLCAiRGlzYWJsZSJdLA0KDQogICAgICAvLyBTZWFyY2ggcGF0aWVudA0KICAgICAgc2VhcmNoTG9hZGVyOiBmYWxzZSwNCiAgICAgIHNlYXJjaDogdHJ1ZSwNCiAgICAgIGlkU2VhcmNoOiAiIiwNCiAgICAgIGVycm9yTWVzc2FnZTogIiIsDQoNCiAgICAgIC8vIHBhdGllbnQgZm91bmQNCiAgICAgIHBhdGllbnRGb3VuZDogZmFsc2UsDQogICAgICBzZWxlY3RlZFBhdGllbnQ6IHt9LA0KDQogICAgICAvLyBuZXcgcGF0aWVudA0KICAgICAgbmV3Rm9ybTogZmFsc2UsDQogICAgICBhZGRQYXRpZW50TG9hZGVyOiBmYWxzZSwNCiAgICAgIHBhdGllbnQ6IHt9LA0KICAgICAgbWVudTogZmFsc2UsDQogICAgICBzZXhJdGVtczogWyJNw6JsZSIsICJGZW1lbGxlIl0sDQogICAgICBncmlkOiB7DQogICAgICAgIHNtOiAxMiwNCiAgICAgICAgbWQ6IDEyLA0KICAgICAgICBsZzogNiwNCiAgICAgIH0sDQoNCiAgICAgIC8vIGRvY3Rvcg0KICAgICAgZG9jdG9ySXRlbXM6IFtdLA0KICAgICAgc2VsZWN0ZWREb2N0b3I6IG51bGwsDQogICAgICBkb2N0b3I6IHt9LA0KDQogICAgICBydWxlczogew0KICAgICAgICByZXF1aXJlZDogKHZhbHVlKSA9PiAhIXZhbHVlIHx8ICJSZXF1aXJlZC4iLA0KICAgICAgICBjb3VudGVyOiAodmFsdWUpID0+IHZhbHVlLmxlbmd0aCA8PSAyMCB8fCAiTWF4IDIwIGNoYXJhY3RlcnMiLA0KICAgICAgICBlbWFpbDogKHZhbHVlKSA9PiB7DQogICAgICAgICAgY29uc3QgcGF0dGVybiA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsNCiAgICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHZhbHVlKSB8fCAiSW52YWxpZCBlLW1haWwuIjsNCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCg0KICB3YXRjaDoge30sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZSh7DQogICAgICBkb2N0b3JzOiAoc3RhdGUpID0+IHN0YXRlLmRlcGFydG1lbnQuZG9jdG9ycywNCiAgICAgIGxvZ2dlZEluVXNlcjogKHN0YXRlKSA9PiBzdGF0ZS5hdXRoLmxvZ2dlZEluVXNlciwNCiAgICB9KSwNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZmlyZURlcGFydG1lbnREb2N0b3JzKCk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGFkZE5ld1BhdGllbnQoKSB7DQogICAgICB0cnkgew0KICAgICAgICB0aGlzLmFkZFBhdGllbnRMb2FkZXIgPSB0cnVlOw0KICAgICAgICBjb25zdCBib2R5ID0gew0KICAgICAgICAgIGZpcnN0TmFtZTogdGhpcy5wYXRpZW50LmZpcnN0TmFtZSB8fCAiIiwNCiAgICAgICAgICBsYXN0TmFtZTogdGhpcy5wYXRpZW50Lmxhc3ROYW1lIHx8ICIiLA0KICAgICAgICAgIGVtYWlsOiB0aGlzLnBhdGllbnQuZW1haWwgfHwgIiIsDQogICAgICAgICAgcGhvbmVOdW1iZXI6IHRoaXMucGF0aWVudC5waG9uZU51bWJlciwNCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLnBhdGllbnQuYWRkcmVzcywNCiAgICAgICAgICBkb2I6IHRoaXMucGF0aWVudC5kb2IsDQogICAgICAgICAgc2V4OiB0aGlzLnBhdGllbnQuc2V4LA0KICAgICAgICAgIHdlaWdodDogIiIsDQogICAgICAgICAgaGVpZ2h0OiAiIiwNCiAgICAgICAgICBibG9vZEdyb3VwOiAiIiwNCiAgICAgICAgICBwcmVDb25kaXRpb25zOiBbXSwNCiAgICAgICAgICBkaXNlYXNlczogW10sDQogICAgICAgICAgY3JlYXRlZEJ5OiAiSG9zcGl0YWwgSGVhZCIsDQogICAgICAgICAgY3JlYXRlZEJ5SWQ6IHRoaXMubG9nZ2VkSW5Vc2VyLmlkLA0KICAgICAgICB9Ow0KDQogICAgICAgIHRoaXMuc2VsZWN0ZWRQYXRpZW50ID0gYXdhaXQgdGhpcy5hZGRQYXRpZW50QnlTdGFmZihib2R5KTsNCg0KICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRQYXRpZW50KQ0KICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgiRXJyb3IgaW4gYWRkaW5nIHBhdGllbnQiKTsNCg0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUGF0aWVudCk7DQoNCiAgICAgICAgdGhpcy5hZGRQYXRpZW50TG9hZGVyID0gZmFsc2U7DQogICAgICAgIHRoaXMuc2VhcmNoID0gZmFsc2U7DQogICAgICAgIHRoaXMubmV3Rm9ybSA9IGZhbHNlOw0KICAgICAgICB0aGlzLnBhdGllbnRGb3VuZCA9IHRydWU7DQoNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB0aGlzLmFkZFBhdGllbnRMb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICByZXR1cm4gZXJyb3I7DQogICAgICB9DQogICAgfSwNCg0KICAgIGRpc2FibGVTZWFyY2goKSB7DQogICAgICB0aGlzLnNlYXJjaCA9IGZhbHNlOw0KICAgICAgdGhpcy5uZXdGb3JtID0gdHJ1ZTsNCiAgICB9LA0KDQogICAgZGlzYWJsZU5ldygpIHsNCiAgICAgIHRoaXMuc2VhcmNoID0gdHJ1ZTsNCiAgICAgIHRoaXMubmV3Rm9ybSA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBvbkRvY3RvclNlbGVjdCgpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRG9jdG9yICE9IG51bGwpIHsNCiAgICAgICAgbGV0IGlkID0gdGhpcy5zZWxlY3RlZERvY3Rvci5zcGxpdCgiKCIpOw0KICAgICAgICBsZXQgcmVhbElkID0gaWRbMV0uc3BsaXQoIikiKTsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRvY3RvcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAodGhpcy5kb2N0b3JzW2ldLmN1c3RvbUlkID09IHJlYWxJZFswXSkgew0KICAgICAgICAgICAgbGV0IG5hbWUgPSB0aGlzLmRvY3RvcnNbaV0uZnVsbE5hbWUuc3BsaXQoIiAiKTsNCiAgICAgICAgICAgIHRoaXMuZG9jdG9yID0gdGhpcy5kb2N0b3JzW2ldOw0KICAgICAgICAgICAgdGhpcy5kb2N0b3IuZmlyc3ROYW1lID0gbmFtZVswXTsNCiAgICAgICAgICAgIHRoaXMuZG9jdG9yLmxhc3ROYW1lID0gbmFtZVsxXTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KDQogICAgc2F2ZShkYXRlKSB7DQogICAgICB0aGlzLiRyZWZzLm1lbnUuc2F2ZShkYXRlKTsNCiAgICB9LA0KDQogICAgYXN5bmMgZmlyZURlcGFydG1lbnREb2N0b3JzKCkgew0KICAgICAgbGV0IGRlcElkID0gdGhpcy5kZXBhcnRtZW50LnNwbGl0KCJEIik7DQogICAgICBhd2FpdCB0aGlzLmdldERlcGFydG1lbnREb2N0b3JzKGRlcElkWzFdKTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb2N0b3JzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCBkb2MgPSBgRHIuICR7dGhpcy5kb2N0b3JzW2ldLmZ1bGxOYW1lfSAoJHt0aGlzLmRvY3RvcnNbaV0uY3VzdG9tSWR9KWA7DQogICAgICAgIHRoaXMuZG9jdG9ySXRlbXMucHVzaChkb2MpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhc3luYyBzZWFyY2hpbmcoKSB7DQogICAgICB0cnkgew0KICAgICAgICB0aGlzLnNlYXJjaExvYWRlciA9IHRydWUNCiAgICAgICAgdGhpcy5zZWxlY3RlZFBhdGllbnQgPSBhd2FpdCB0aGlzLnNlYXJjaEJ5SWQoeyBpZDogdGhpcy5pZFNlYXJjaCB9KTsNCiAgICAgICAgaWYoIXRoaXMuc2VsZWN0ZWRQYXRpZW50KSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hMb2FkZXIgPSBmYWxzZQ0KICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yTWVzc2FnZSA9ICdQYXRpZW50IG5vdCBmb3VuZCEnDQogICAgICAgIH0gDQogICAgICAgIHRoaXMuc2VhcmNoID0gZmFsc2U7DQogICAgICAgIHRoaXMubmV3Rm9ybSA9IGZhbHNlOw0KICAgICAgICB0aGlzLnNlYXJjaExvYWRlciA9IGZhbHNlDQogICAgICAgIHRoaXMucGF0aWVudEZvdW5kID0gdHJ1ZTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIHRoaXMuc2VhcmNoTG9hZGVyID0gZmFsc2UNCiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvcg0KICAgICAgICByZXR1cm4gZXJyb3INCiAgICAgIH0NCiAgICB9LA0KDQogICAgLi4ubWFwQWN0aW9ucyh7DQogICAgICBjcmVhdGVOZXdEZXBhcnRtZW50OiAiZGVwYXJ0bWVudC9jcmVhdGVOZXdEZXBhcnRtZW50IiwNCiAgICAgIGVkaXREZXBhcnRtZW50OiAiZGVwYXJ0bWVudC9lZGl0RGVwYXJ0bWVudCIsDQogICAgICBnZXREZXBhcnRtZW50RG9jdG9yczogImRlcGFydG1lbnQvZ2V0RGVwYXJ0bWVudERvY3RvcnMiLA0KICAgICAgYWRkUGF0aWVudEJ5U3RhZmY6ICJwYXRpZW50L2FkZFBhdGllbnRCeVN0YWZmIiwNCiAgICAgIHNlYXJjaEJ5SWQ6ICJwYXRpZW50L3NlYXJjaEJ5SWQiLA0KICAgIH0pLA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["PreAppointment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PreAppointment.vue","sourceRoot":"src/components/hospital/department","sourcesContent":["<template>\r\n  <v-card>\r\n    <div class=\"card-header\">\r\n      <v-card-title class=\"d-flex justify-space-between pa-5 text--white\">\r\n        <!-- <div v-if=\"formType === 'New'\">Create New Company</div> -->\r\n        <!-- <div v-else>Edit Company</div> -->\r\n        <div class=\"white--text\" v-if=\"edit\">Edit Rendez-vous</div>\r\n        <div class=\"white--text\" v-else>Rendez-vous</div>\r\n        <v-icon dark class=\"d-none d-sm-flex\" @click=\"toggle\"\r\n          >mdi-close-thick</v-icon\r\n        >\r\n      </v-card-title>\r\n    </div>\r\n    <v-divider />\r\n    <v-card-text style=\"height: auto\">\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-expand-transition>\r\n            <v-card flat elevation=\"0\" v-show=\"search\">\r\n              <v-card-text style=\"height: auto\">\r\n                <div class=\"d-flex justify-end\">\r\n                  <v-btn outlined elevation=\"0\" @click=\"disableSearch()\"\r\n                    >Add New Patient</v-btn\r\n                  >\r\n                </div>\r\n                <v-subheader class=\"red--text\">{{ errorMessage }}</v-subheader>\r\n                <div>\r\n                  <v-text-field\r\n                    v-model=\"idSearch\"\r\n                    label=\"Search Patient by ID\"\r\n                    hint=\"SN-P00000001\"\r\n                    solo\r\n                    @keydown.enter=\"searching\"\r\n                  ></v-text-field>\r\n                </div>\r\n                <v-btn\r\n                  @click.stop=\"searching\"\r\n                  color=\"primary\"\r\n                  block\r\n                  elevation=\"0\"\r\n                  :loading=\"searchLoader\"\r\n                  class=\"text-capitalize px-5\"\r\n                  >Search</v-btn\r\n                >\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n          <v-expand-transition>\r\n            <v-card flat elevation=\"0\" v-show=\"newForm\">\r\n              <v-card-text style=\"height: auto\">\r\n                <div class=\"d-flex justify-end\">\r\n                  <v-btn outlined elevation=\"0\" @click=\"disableNew()\"\r\n                    >Search Patient</v-btn\r\n                  >\r\n                </div>\r\n                <v-row\r\n                  :no-gutters=\"$vuetify.breakpoint.xsOnly ? true : false\"\r\n                  class=\"mt-5\"\r\n                >\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Prénom\"\r\n                      v-model=\"patient.firstName\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Nom de famille\"\r\n                      v-model=\"patient.lastName\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-select\r\n                      outlined\r\n                      dense\r\n                      :items=\"sexItems\"\r\n                      label=\"le sexe\"\r\n                      v-model=\"patient.sex\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Numéro de contact\"\r\n                      v-model=\"patient.phoneNumber\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-menu\r\n                      ref=\"menu\"\r\n                      v-model=\"menu\"\r\n                      :close-on-content-click=\"false\"\r\n                      transition=\"scale-transition\"\r\n                      offset-y\r\n                      min-width=\"auto\"\r\n                    >\r\n                      <template v-slot:activator=\"{ on, attrs }\">\r\n                        <v-text-field\r\n                          v-model=\"patient.dob\"\r\n                          label=\"Date de naissance\"\r\n                          append-icon=\"mdi-calendar\"\r\n                          readonly\r\n                          dense\r\n                          outlined\r\n                          v-bind=\"attrs\"\r\n                          v-on=\"on\"\r\n                        ></v-text-field>\r\n                      </template>\r\n                      <v-date-picker\r\n                        ref=\"picker\"\r\n                        v-model=\"patient.dob\"\r\n                        :max=\"new Date().toISOString().substr(0, 10)\"\r\n                        min=\"1950-01-01\"\r\n                        @change=\"save\"\r\n                      ></v-date-picker>\r\n                    </v-menu>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"E-mail\"\r\n                      v-model=\"patient.email\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Adresse\"\r\n                      v-model=\"patient.address\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-btn\r\n                      @click.stop=\"addNewPatient\"\r\n                      color=\"primary\"\r\n                      block\r\n                      elevation=\"0\"\r\n                      :loading=\"addPatientLoader\"\r\n                      class=\"text-capitalize px-5\"\r\n                      >Add</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n          <v-expand-transition v-if=\"patientFound\">\r\n            <v-card elevation=\"0\">\r\n              <v-card-text class=\"pt-5 px-0\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\">\r\n                    <v-subheader class=\"display-1\"\r\n                      >Patient - {{ selectedPatient.customId }}</v-subheader\r\n                    >\r\n                    <v-list-item two-line class=\"mt-3\">\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>First Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.firstName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Last Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.lastName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>DOB</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.dob\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Sex</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.sex\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Phone Number</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.phoneNumber\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n        </v-col>\r\n        <v-divider vertical class=\"mt-5\"></v-divider>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-select\r\n            class=\"mt-6\"\r\n            outlined\r\n            dense\r\n            :items=\"doctorItems\"\r\n            label=\"Doctor\"\r\n            hide-details\r\n            v-model=\"selectedDoctor\"\r\n            @change=\"onDoctorSelect()\"\r\n          />\r\n          <v-expand-transition v-if=\"selectedDoctor != null\">\r\n            <v-card elevation=\"0\">\r\n              <v-card-text class=\"\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>First Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.firstName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Last Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.lastName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Title</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.title\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Email</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.email\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Phone Number</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.phoneNumber\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n    <v-divider />\r\n    <v-card-actions class=\"py-5 px-5\">\r\n      <v-row no-gutters justify-sm=\"space-between\">\r\n        <v-col cols=\"12\" sm=\"auto\" order=\"2\" order-sm=\"1\">\r\n          <v-btn\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"grey\"\r\n            class=\"mt-5 mt-sm-0\"\r\n            elevation=\"0\"\r\n            dark\r\n            @click=\"toggle\"\r\n            >Cancel\r\n          </v-btn>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"auto\" order=\"1\" order-sm=\"1\">\r\n          <v-btn\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"primary\"\r\n            elevation=\"0\"\r\n            dark\r\n            :loading=\"loader\"\r\n          >\r\n            Confirm Patient & Doctor\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    toggle: {\r\n      type: Function,\r\n      required: false,\r\n    },\r\n    edit: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    department: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      statusItems: [\"Active\", \"Disable\"],\r\n\r\n      // Search patient\r\n      searchLoader: false,\r\n      search: true,\r\n      idSearch: \"\",\r\n      errorMessage: \"\",\r\n\r\n      // patient found\r\n      patientFound: false,\r\n      selectedPatient: {},\r\n\r\n      // new patient\r\n      newForm: false,\r\n      addPatientLoader: false,\r\n      patient: {},\r\n      menu: false,\r\n      sexItems: [\"Mâle\", \"Femelle\"],\r\n      grid: {\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 6,\r\n      },\r\n\r\n      // doctor\r\n      doctorItems: [],\r\n      selectedDoctor: null,\r\n      doctor: {},\r\n\r\n      rules: {\r\n        required: (value) => !!value || \"Required.\",\r\n        counter: (value) => value.length <= 20 || \"Max 20 characters\",\r\n        email: (value) => {\r\n          const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n          return pattern.test(value) || \"Invalid e-mail.\";\r\n        },\r\n      },\r\n    };\r\n  },\r\n\r\n  watch: {},\r\n\r\n  computed: {\r\n    ...mapState({\r\n      doctors: (state) => state.department.doctors,\r\n      loggedInUser: (state) => state.auth.loggedInUser,\r\n    }),\r\n  },\r\n\r\n  mounted() {\r\n    this.fireDepartmentDoctors();\r\n  },\r\n\r\n  methods: {\r\n    async addNewPatient() {\r\n      try {\r\n        this.addPatientLoader = true;\r\n        const body = {\r\n          firstName: this.patient.firstName || \"\",\r\n          lastName: this.patient.lastName || \"\",\r\n          email: this.patient.email || \"\",\r\n          phoneNumber: this.patient.phoneNumber,\r\n          address: this.patient.address,\r\n          dob: this.patient.dob,\r\n          sex: this.patient.sex,\r\n          weight: \"\",\r\n          height: \"\",\r\n          bloodGroup: \"\",\r\n          preConditions: [],\r\n          diseases: [],\r\n          createdBy: \"Hospital Head\",\r\n          createdById: this.loggedInUser.id,\r\n        };\r\n\r\n        this.selectedPatient = await this.addPatientByStaff(body);\r\n\r\n        if (!this.selectedPatient)\r\n          return Promise.reject(\"Error in adding patient\");\r\n\r\n        console.log(this.selectedPatient);\r\n\r\n        this.addPatientLoader = false;\r\n        this.search = false;\r\n        this.newForm = false;\r\n        this.patientFound = true;\r\n\r\n        return true;\r\n      } catch (error) {\r\n        this.addPatientLoader = false;\r\n        console.log(error);\r\n        return error;\r\n      }\r\n    },\r\n\r\n    disableSearch() {\r\n      this.search = false;\r\n      this.newForm = true;\r\n    },\r\n\r\n    disableNew() {\r\n      this.search = true;\r\n      this.newForm = false;\r\n    },\r\n\r\n    onDoctorSelect() {\r\n      if (this.selectedDoctor != null) {\r\n        let id = this.selectedDoctor.split(\"(\");\r\n        let realId = id[1].split(\")\");\r\n        for (let i = 0; i < this.doctors.length; i++) {\r\n          if (this.doctors[i].customId == realId[0]) {\r\n            let name = this.doctors[i].fullName.split(\" \");\r\n            this.doctor = this.doctors[i];\r\n            this.doctor.firstName = name[0];\r\n            this.doctor.lastName = name[1];\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    save(date) {\r\n      this.$refs.menu.save(date);\r\n    },\r\n\r\n    async fireDepartmentDoctors() {\r\n      let depId = this.department.split(\"D\");\r\n      await this.getDepartmentDoctors(depId[1]);\r\n      for (let i = 0; i < this.doctors.length; i++) {\r\n        let doc = `Dr. ${this.doctors[i].fullName} (${this.doctors[i].customId})`;\r\n        this.doctorItems.push(doc);\r\n      }\r\n    },\r\n\r\n    async searching() {\r\n      try {\r\n        this.searchLoader = true\r\n        this.selectedPatient = await this.searchById({ id: this.idSearch });\r\n        if(!this.selectedPatient) {\r\n          this.searchLoader = false\r\n          return this.errorMessage = 'Patient not found!'\r\n        } \r\n        this.search = false;\r\n        this.newForm = false;\r\n        this.searchLoader = false\r\n        this.patientFound = true;\r\n      } catch (error) {\r\n        this.searchLoader = false\r\n        this.errorMessage = error\r\n        return error\r\n      }\r\n    },\r\n\r\n    ...mapActions({\r\n      createNewDepartment: \"department/createNewDepartment\",\r\n      editDepartment: \"department/editDepartment\",\r\n      getDepartmentDoctors: \"department/getDepartmentDoctors\",\r\n      addPatientByStaff: \"patient/addPatientByStaff\",\r\n      searchById: \"patient/searchById\",\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}