{"remainingRequest":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\components\\hospital\\department\\PreAppointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\components\\hospital\\department\\PreAppointment.vue","mtime":1629812029471},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHRvZ2dsZTogew0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfSwNCiAgICBvcGVuTmV3QXBwb2ludG1lbnQ6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgIH0sDQogICAgZWRpdDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgZGVwYXJ0bWVudDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgfSwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsb2FkZXI6IGZhbHNlLA0KICAgICAgc3RhdHVzSXRlbXM6IFsiQWN0aXZlIiwgIkRpc2FibGUiXSwNCg0KICAgICAgLy8gU2VhcmNoIHBhdGllbnQNCiAgICAgIHNlYXJjaExvYWRlcjogZmFsc2UsDQogICAgICBzZWFyY2g6IHRydWUsDQogICAgICBpZFNlYXJjaDogIiIsDQogICAgICBlcnJvck1lc3NhZ2U6ICIiLA0KDQogICAgICAvLyBwYXRpZW50IGZvdW5kDQogICAgICBwYXRpZW50Rm91bmQ6IGZhbHNlLA0KICAgICAgc2VsZWN0ZWRQYXRpZW50OiB7fSwNCg0KICAgICAgLy8gbmV3IHBhdGllbnQNCiAgICAgIG5ld0Zvcm06IGZhbHNlLA0KICAgICAgYWRkUGF0aWVudExvYWRlcjogZmFsc2UsDQogICAgICBwYXRpZW50OiB7fSwNCiAgICAgIG1lbnU6IGZhbHNlLA0KICAgICAgc2V4SXRlbXM6IFsiTcOibGUiLCAiRmVtZWxsZSJdLA0KICAgICAgZ3JpZDogew0KICAgICAgICBzbTogMTIsDQogICAgICAgIG1kOiAxMiwNCiAgICAgICAgbGc6IDYsDQogICAgICB9LA0KDQogICAgICAvLyBkb2N0b3INCiAgICAgIGRvY3Rvckl0ZW1zOiBbXSwNCiAgICAgIHNlbGVjdGVkRG9jdG9yOiBudWxsLA0KICAgICAgZG9jdG9yOiB7fSwNCg0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgcmVxdWlyZWQ6ICh2YWx1ZSkgPT4gISF2YWx1ZSB8fCAiUmVxdWlyZWQuIiwNCiAgICAgICAgY291bnRlcjogKHZhbHVlKSA9PiB2YWx1ZS5sZW5ndGggPD0gMjAgfHwgIk1heCAyMCBjaGFyYWN0ZXJzIiwNCiAgICAgICAgZW1haWw6ICh2YWx1ZSkgPT4gew0KICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31dKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87DQogICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh2YWx1ZSkgfHwgIkludmFsaWQgZS1tYWlsLiI7DQogICAgICAgIH0sDQogICAgICB9LA0KICAgIH07DQogIH0sDQoNCiAgd2F0Y2g6IHt9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoew0KICAgICAgZG9jdG9yczogKHN0YXRlKSA9PiBzdGF0ZS5kZXBhcnRtZW50LmRvY3RvcnMsDQogICAgICBsb2dnZWRJblVzZXI6IChzdGF0ZSkgPT4gc3RhdGUuYXV0aC5sb2dnZWRJblVzZXIsDQogICAgfSksDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmZpcmVEZXBhcnRtZW50RG9jdG9ycygpOw0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBhZGROZXdQYXRpZW50KCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5hZGRQYXRpZW50TG9hZGVyID0gdHJ1ZTsNCiAgICAgICAgY29uc3QgYm9keSA9IHsNCiAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMucGF0aWVudC5maXJzdE5hbWUgfHwgIiIsDQogICAgICAgICAgbGFzdE5hbWU6IHRoaXMucGF0aWVudC5sYXN0TmFtZSB8fCAiIiwNCiAgICAgICAgICBlbWFpbDogdGhpcy5wYXRpZW50LmVtYWlsIHx8ICIiLA0KICAgICAgICAgIHBob25lTnVtYmVyOiB0aGlzLnBhdGllbnQucGhvbmVOdW1iZXIsDQogICAgICAgICAgYWRkcmVzczogdGhpcy5wYXRpZW50LmFkZHJlc3MsDQogICAgICAgICAgZG9iOiB0aGlzLnBhdGllbnQuZG9iLA0KICAgICAgICAgIHNleDogdGhpcy5wYXRpZW50LnNleCwNCiAgICAgICAgICB3ZWlnaHQ6ICIiLA0KICAgICAgICAgIGhlaWdodDogIiIsDQogICAgICAgICAgYmxvb2RHcm91cDogIiIsDQogICAgICAgICAgcHJlQ29uZGl0aW9uczogW10sDQogICAgICAgICAgZGlzZWFzZXM6IFtdLA0KICAgICAgICAgIGNyZWF0ZWRCeTogIkhvc3BpdGFsIEhlYWQiLA0KICAgICAgICAgIGNyZWF0ZWRCeUlkOiB0aGlzLmxvZ2dlZEluVXNlci5pZCwNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLnNlbGVjdGVkUGF0aWVudCA9IGF3YWl0IHRoaXMuYWRkUGF0aWVudEJ5U3RhZmYoYm9keSk7DQoNCiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkUGF0aWVudCkNCiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIkVycm9yIGluIGFkZGluZyBwYXRpZW50Iik7DQoNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFBhdGllbnQpOw0KDQogICAgICAgIHRoaXMuYWRkUGF0aWVudExvYWRlciA9IGZhbHNlOw0KICAgICAgICB0aGlzLnNlYXJjaCA9IGZhbHNlOw0KICAgICAgICB0aGlzLm5ld0Zvcm0gPSBmYWxzZTsNCiAgICAgICAgdGhpcy5wYXRpZW50Rm91bmQgPSB0cnVlOw0KDQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgdGhpcy5hZGRQYXRpZW50TG9hZGVyID0gZmFsc2U7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgcmV0dXJuIGVycm9yOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBjb25maXJtKCkgew0KICAgICAgdGhpcy5vcGVuTmV3QXBwb2ludG1lbnQodGhpcy5zZWxlY3RlZFBhdGllbnQsIHRoaXMuZG9jdG9yKQ0KICAgIH0sDQoNCiAgICBkaXNhYmxlU2VhcmNoKCkgew0KICAgICAgdGhpcy5zZWFyY2ggPSBmYWxzZTsNCiAgICAgIHRoaXMubmV3Rm9ybSA9IHRydWU7DQogICAgfSwNCg0KICAgIGRpc2FibGVOZXcoKSB7DQogICAgICB0aGlzLnNlYXJjaCA9IHRydWU7DQogICAgICB0aGlzLm5ld0Zvcm0gPSBmYWxzZTsNCiAgICB9LA0KDQogICAgb25Eb2N0b3JTZWxlY3QoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZERvY3RvciAhPSBudWxsKSB7DQogICAgICAgIGxldCBpZCA9IHRoaXMuc2VsZWN0ZWREb2N0b3Iuc3BsaXQoIigiKTsNCiAgICAgICAgbGV0IHJlYWxJZCA9IGlkWzFdLnNwbGl0KCIpIik7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb2N0b3JzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHRoaXMuZG9jdG9yc1tpXS5jdXN0b21JZCA9PSByZWFsSWRbMF0pIHsNCiAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy5kb2N0b3JzW2ldLmZ1bGxOYW1lLnNwbGl0KCIgIik7DQogICAgICAgICAgICB0aGlzLmRvY3RvciA9IHRoaXMuZG9jdG9yc1tpXTsNCiAgICAgICAgICAgIHRoaXMuZG9jdG9yLmZpcnN0TmFtZSA9IG5hbWVbMF07DQogICAgICAgICAgICB0aGlzLmRvY3Rvci5sYXN0TmFtZSA9IG5hbWVbMV07DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCg0KICAgIHNhdmUoZGF0ZSkgew0KICAgICAgdGhpcy4kcmVmcy5tZW51LnNhdmUoZGF0ZSk7DQogICAgfSwNCg0KICAgIGFzeW5jIGZpcmVEZXBhcnRtZW50RG9jdG9ycygpIHsNCiAgICAgIGxldCBkZXBJZCA9IHRoaXMuZGVwYXJ0bWVudC5zcGxpdCgiRCIpOw0KICAgICAgYXdhaXQgdGhpcy5nZXREZXBhcnRtZW50RG9jdG9ycyhkZXBJZFsxXSk7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9jdG9ycy5sZW5ndGg7IGkrKykgew0KICAgICAgICBsZXQgZG9jID0gYERyLiAke3RoaXMuZG9jdG9yc1tpXS5mdWxsTmFtZX0gKCR7dGhpcy5kb2N0b3JzW2ldLmN1c3RvbUlkfSlgOw0KICAgICAgICB0aGlzLmRvY3Rvckl0ZW1zLnB1c2goZG9jKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgc2VhcmNoaW5nKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5zZWFyY2hMb2FkZXIgPSB0cnVlDQogICAgICAgIHRoaXMuc2VsZWN0ZWRQYXRpZW50ID0gYXdhaXQgdGhpcy5zZWFyY2hCeUlkKHsgaWQ6IHRoaXMuaWRTZWFyY2ggfSk7DQogICAgICAgIGlmKCF0aGlzLnNlbGVjdGVkUGF0aWVudCkgew0KICAgICAgICAgIHRoaXMuc2VhcmNoTG9hZGVyID0gZmFsc2UNCiAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvck1lc3NhZ2UgPSAnUGF0aWVudCBub3QgZm91bmQhJw0KICAgICAgICB9IA0KICAgICAgICB0aGlzLnNlYXJjaCA9IGZhbHNlOw0KICAgICAgICB0aGlzLm5ld0Zvcm0gPSBmYWxzZTsNCiAgICAgICAgdGhpcy5zZWFyY2hMb2FkZXIgPSBmYWxzZQ0KICAgICAgICB0aGlzLnBhdGllbnRGb3VuZCA9IHRydWU7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB0aGlzLnNlYXJjaExvYWRlciA9IGZhbHNlDQogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3INCiAgICAgICAgcmV0dXJuIGVycm9yDQogICAgICB9DQogICAgfSwNCg0KICAgIC4uLm1hcEFjdGlvbnMoew0KICAgICAgY3JlYXRlTmV3RGVwYXJ0bWVudDogImRlcGFydG1lbnQvY3JlYXRlTmV3RGVwYXJ0bWVudCIsDQogICAgICBlZGl0RGVwYXJ0bWVudDogImRlcGFydG1lbnQvZWRpdERlcGFydG1lbnQiLA0KICAgICAgZ2V0RGVwYXJ0bWVudERvY3RvcnM6ICJkZXBhcnRtZW50L2dldERlcGFydG1lbnREb2N0b3JzIiwNCiAgICAgIGFkZFBhdGllbnRCeVN0YWZmOiAicGF0aWVudC9hZGRQYXRpZW50QnlTdGFmZiIsDQogICAgICBzZWFyY2hCeUlkOiAicGF0aWVudC9zZWFyY2hCeUlkIiwNCiAgICB9KSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["PreAppointment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PreAppointment.vue","sourceRoot":"src/components/hospital/department","sourcesContent":["<template>\r\n  <v-card>\r\n    <div class=\"card-header\">\r\n      <v-card-title class=\"d-flex justify-space-between pa-5 text--white\">\r\n        <!-- <div v-if=\"formType === 'New'\">Create New Company</div> -->\r\n        <!-- <div v-else>Edit Company</div> -->\r\n        <div class=\"white--text\" v-if=\"edit\">Edit Rendez-vous</div>\r\n        <div class=\"white--text\" v-else>Rendez-vous</div>\r\n        <v-icon dark class=\"d-none d-sm-flex\" @click=\"toggle\"\r\n          >mdi-close-thick</v-icon\r\n        >\r\n      </v-card-title>\r\n    </div>\r\n    <v-divider />\r\n    <v-card-text style=\"height: auto\">\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-expand-transition>\r\n            <v-card flat elevation=\"0\" v-show=\"search\">\r\n              <v-card-text style=\"height: auto\">\r\n                <div class=\"d-flex justify-end\">\r\n                  <v-btn outlined elevation=\"0\" @click=\"disableSearch()\"\r\n                    >Add New Patient</v-btn\r\n                  >\r\n                </div>\r\n                <v-subheader class=\"red--text\">{{ errorMessage }}</v-subheader>\r\n                <div>\r\n                  <v-text-field\r\n                    v-model=\"idSearch\"\r\n                    label=\"Search Patient by ID\"\r\n                    hint=\"SN-P00000001\"\r\n                    solo\r\n                    @keydown.enter=\"searching\"\r\n                  ></v-text-field>\r\n                </div>\r\n                <v-btn\r\n                  @click.stop=\"searching\"\r\n                  color=\"primary\"\r\n                  block\r\n                  elevation=\"0\"\r\n                  :loading=\"searchLoader\"\r\n                  class=\"text-capitalize px-5\"\r\n                  >Search</v-btn\r\n                >\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n          <v-expand-transition>\r\n            <v-card flat elevation=\"0\" v-show=\"newForm\">\r\n              <v-card-text style=\"height: auto\">\r\n                <div class=\"d-flex justify-end\">\r\n                  <v-btn outlined elevation=\"0\" @click=\"disableNew()\"\r\n                    >Search Patient</v-btn\r\n                  >\r\n                </div>\r\n                <v-row\r\n                  :no-gutters=\"$vuetify.breakpoint.xsOnly ? true : false\"\r\n                  class=\"mt-5\"\r\n                >\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Prénom\"\r\n                      v-model=\"patient.firstName\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Nom de famille\"\r\n                      v-model=\"patient.lastName\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-select\r\n                      outlined\r\n                      dense\r\n                      :items=\"sexItems\"\r\n                      label=\"le sexe\"\r\n                      v-model=\"patient.sex\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Numéro de contact\"\r\n                      v-model=\"patient.phoneNumber\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-menu\r\n                      ref=\"menu\"\r\n                      v-model=\"menu\"\r\n                      :close-on-content-click=\"false\"\r\n                      transition=\"scale-transition\"\r\n                      offset-y\r\n                      min-width=\"auto\"\r\n                    >\r\n                      <template v-slot:activator=\"{ on, attrs }\">\r\n                        <v-text-field\r\n                          v-model=\"patient.dob\"\r\n                          label=\"Date de naissance\"\r\n                          append-icon=\"mdi-calendar\"\r\n                          readonly\r\n                          dense\r\n                          outlined\r\n                          v-bind=\"attrs\"\r\n                          v-on=\"on\"\r\n                        ></v-text-field>\r\n                      </template>\r\n                      <v-date-picker\r\n                        ref=\"picker\"\r\n                        v-model=\"patient.dob\"\r\n                        :max=\"new Date().toISOString().substr(0, 10)\"\r\n                        min=\"1950-01-01\"\r\n                        @change=\"save\"\r\n                      ></v-date-picker>\r\n                    </v-menu>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" :sm=\"grid.sm\" :md=\"grid.md\" :lg=\"grid.lg\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"E-mail\"\r\n                      v-model=\"patient.email\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      outlined\r\n                      dense\r\n                      label=\"Adresse\"\r\n                      v-model=\"patient.address\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-btn\r\n                      @click.stop=\"addNewPatient\"\r\n                      color=\"primary\"\r\n                      block\r\n                      elevation=\"0\"\r\n                      :loading=\"addPatientLoader\"\r\n                      class=\"text-capitalize px-5\"\r\n                      >Add</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n          <v-expand-transition v-if=\"patientFound\">\r\n            <v-card elevation=\"0\">\r\n              <v-card-text class=\"pt-5 px-0\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\">\r\n                    <v-subheader class=\"display-1\"\r\n                      >Patient - {{ selectedPatient.customId }}</v-subheader\r\n                    >\r\n                    <v-list-item two-line class=\"mt-3\">\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>First Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.firstName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Last Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.lastName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>DOB</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.dob\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Sex</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.sex\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Phone Number</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          selectedPatient.phoneNumber\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n        </v-col>\r\n        <v-divider vertical class=\"mt-5\"></v-divider>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-select\r\n            class=\"mt-6\"\r\n            outlined\r\n            dense\r\n            :items=\"doctorItems\"\r\n            label=\"Doctor\"\r\n            hide-details\r\n            v-model=\"selectedDoctor\"\r\n            @change=\"onDoctorSelect()\"\r\n          />\r\n          <v-expand-transition v-if=\"selectedDoctor != null\">\r\n            <v-card elevation=\"0\">\r\n              <v-card-text class=\"\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>First Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.firstName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Last Name</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.lastName\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Title</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.title\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Email</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.email\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                    <v-list-item two-line>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>Phone Number</v-list-item-title>\r\n                        <v-list-item-subtitle>{{\r\n                          doctor.phoneNumber\r\n                        }}</v-list-item-subtitle>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-expand-transition>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n    <v-divider />\r\n    <v-card-actions class=\"py-5 px-5\">\r\n      <v-row no-gutters justify-sm=\"space-between\">\r\n        <v-col cols=\"12\" sm=\"auto\" order=\"2\" order-sm=\"1\">\r\n          <v-btn\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"grey\"\r\n            class=\"mt-5 mt-sm-0\"\r\n            elevation=\"0\"\r\n            dark\r\n            @click=\"toggle\"\r\n            >Cancel\r\n          </v-btn>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"auto\" order=\"1\" order-sm=\"1\">\r\n          <v-btn\r\n            :block=\"$vuetify.breakpoint.xs ? true : false\"\r\n            color=\"primary\"\r\n            elevation=\"0\"\r\n            dark\r\n            :loading=\"loader\"\r\n            @click=\"confirm\"\r\n          >\r\n            Confirm Patient & Doctor\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    toggle: {\r\n      type: Function,\r\n      required: false,\r\n    },\r\n    openNewAppointment: {\r\n      type: Function,\r\n      required: false,\r\n    },\r\n    edit: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    department: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      statusItems: [\"Active\", \"Disable\"],\r\n\r\n      // Search patient\r\n      searchLoader: false,\r\n      search: true,\r\n      idSearch: \"\",\r\n      errorMessage: \"\",\r\n\r\n      // patient found\r\n      patientFound: false,\r\n      selectedPatient: {},\r\n\r\n      // new patient\r\n      newForm: false,\r\n      addPatientLoader: false,\r\n      patient: {},\r\n      menu: false,\r\n      sexItems: [\"Mâle\", \"Femelle\"],\r\n      grid: {\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 6,\r\n      },\r\n\r\n      // doctor\r\n      doctorItems: [],\r\n      selectedDoctor: null,\r\n      doctor: {},\r\n\r\n      rules: {\r\n        required: (value) => !!value || \"Required.\",\r\n        counter: (value) => value.length <= 20 || \"Max 20 characters\",\r\n        email: (value) => {\r\n          const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n          return pattern.test(value) || \"Invalid e-mail.\";\r\n        },\r\n      },\r\n    };\r\n  },\r\n\r\n  watch: {},\r\n\r\n  computed: {\r\n    ...mapState({\r\n      doctors: (state) => state.department.doctors,\r\n      loggedInUser: (state) => state.auth.loggedInUser,\r\n    }),\r\n  },\r\n\r\n  mounted() {\r\n    this.fireDepartmentDoctors();\r\n  },\r\n\r\n  methods: {\r\n    async addNewPatient() {\r\n      try {\r\n        this.addPatientLoader = true;\r\n        const body = {\r\n          firstName: this.patient.firstName || \"\",\r\n          lastName: this.patient.lastName || \"\",\r\n          email: this.patient.email || \"\",\r\n          phoneNumber: this.patient.phoneNumber,\r\n          address: this.patient.address,\r\n          dob: this.patient.dob,\r\n          sex: this.patient.sex,\r\n          weight: \"\",\r\n          height: \"\",\r\n          bloodGroup: \"\",\r\n          preConditions: [],\r\n          diseases: [],\r\n          createdBy: \"Hospital Head\",\r\n          createdById: this.loggedInUser.id,\r\n        };\r\n\r\n        this.selectedPatient = await this.addPatientByStaff(body);\r\n\r\n        if (!this.selectedPatient)\r\n          return Promise.reject(\"Error in adding patient\");\r\n\r\n        console.log(this.selectedPatient);\r\n\r\n        this.addPatientLoader = false;\r\n        this.search = false;\r\n        this.newForm = false;\r\n        this.patientFound = true;\r\n\r\n        return true;\r\n      } catch (error) {\r\n        this.addPatientLoader = false;\r\n        console.log(error);\r\n        return error;\r\n      }\r\n    },\r\n\r\n    confirm() {\r\n      this.openNewAppointment(this.selectedPatient, this.doctor)\r\n    },\r\n\r\n    disableSearch() {\r\n      this.search = false;\r\n      this.newForm = true;\r\n    },\r\n\r\n    disableNew() {\r\n      this.search = true;\r\n      this.newForm = false;\r\n    },\r\n\r\n    onDoctorSelect() {\r\n      if (this.selectedDoctor != null) {\r\n        let id = this.selectedDoctor.split(\"(\");\r\n        let realId = id[1].split(\")\");\r\n        for (let i = 0; i < this.doctors.length; i++) {\r\n          if (this.doctors[i].customId == realId[0]) {\r\n            let name = this.doctors[i].fullName.split(\" \");\r\n            this.doctor = this.doctors[i];\r\n            this.doctor.firstName = name[0];\r\n            this.doctor.lastName = name[1];\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    save(date) {\r\n      this.$refs.menu.save(date);\r\n    },\r\n\r\n    async fireDepartmentDoctors() {\r\n      let depId = this.department.split(\"D\");\r\n      await this.getDepartmentDoctors(depId[1]);\r\n      for (let i = 0; i < this.doctors.length; i++) {\r\n        let doc = `Dr. ${this.doctors[i].fullName} (${this.doctors[i].customId})`;\r\n        this.doctorItems.push(doc);\r\n      }\r\n    },\r\n\r\n    async searching() {\r\n      try {\r\n        this.searchLoader = true\r\n        this.selectedPatient = await this.searchById({ id: this.idSearch });\r\n        if(!this.selectedPatient) {\r\n          this.searchLoader = false\r\n          return this.errorMessage = 'Patient not found!'\r\n        } \r\n        this.search = false;\r\n        this.newForm = false;\r\n        this.searchLoader = false\r\n        this.patientFound = true;\r\n      } catch (error) {\r\n        this.searchLoader = false\r\n        this.errorMessage = error\r\n        return error\r\n      }\r\n    },\r\n\r\n    ...mapActions({\r\n      createNewDepartment: \"department/createNewDepartment\",\r\n      editDepartment: \"department/editDepartment\",\r\n      getDepartmentDoctors: \"department/getDepartmentDoctors\",\r\n      addPatientByStaff: \"patient/addPatientByStaff\",\r\n      searchById: \"patient/searchById\",\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}