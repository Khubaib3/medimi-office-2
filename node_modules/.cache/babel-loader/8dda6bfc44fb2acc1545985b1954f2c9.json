{"remainingRequest":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\views\\hospitalHead\\DepAppointments.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\views\\hospitalHead\\DepAppointments.vue","mtime":1629383643158},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0RlZnQvRGVza3RvcC9tZWRpbWkvbWVkaW1pLW9mZmljZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL0RlZnQvRGVza3RvcC9tZWRpbWkvbWVkaW1pLW9mZmljZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IFByZUFwcG9pbnRtZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvaG9zcGl0YWwvZGVwYXJ0bWVudC9QcmVBcHBvaW50bWVudC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUHJlQXBwb2ludG1lbnQ6IFByZUFwcG9pbnRtZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVwYXJ0bWVudEl0ZW1zOiBbXSwKICAgICAgc2VsZWN0ZWREZXBhcnRtZW50OiBudWxsLAogICAgICAvLyBDYWxlbmRhcgogICAgICBmb2N1czogIiIsCiAgICAgIGNhbGVuZGFyVHlwZTogIndlZWsiLAogICAgICBsYW5nOiAiZnIiLAogICAgICBhcHBvaW50bWVudHM6IFtdLAogICAgICAvLyBhcHBvaW50bWVudAogICAgICBuZXdEaWFsb2c6IGZhbHNlLAogICAgICBmb3JtVHlwZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgZGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGRlcGFydG1lbnRzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kZXBhcnRtZW50LmRlcGFydG1lbnRzOwogICAgfQogIH0pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldERlcGFydG1lbnRzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMuZGVwYXJ0bWVudHMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICAgICAgICAgX3RoaXMuZGVwYXJ0bWVudEl0ZW1zLnB1c2godmFsdWUuY3VzdG9tSWQpOwogICAgICAgICAgICAgIH0pOyAvLyBDYWxlbmRhcgoKCiAgICAgICAgICAgICAgaWYgKF90aGlzLnNlbGVjdGVkRGVwYXJ0bWVudCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5jYWxlbmRhci5jaGVja0NoYW5nZSgpOwoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5jYWxlbmRhci5tb3ZlKDEpOwogICAgICAgICAgICAgICAgfSwgMTApOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLmNhbGVuZGFyLm1vdmUoLTEpOyAvLyBBcHBvaW50bWVudHMKCgogICAgICAgICAgICAgICAgX3RoaXMuZ2V0QXBwb2ludG1lbnRzKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7CiAgICBnZXRBcHBvaW50bWVudHM6IGZ1bmN0aW9uIGdldEFwcG9pbnRtZW50cygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5jYWxlbmRhclR5cGUpOwogICAgICBjb25zb2xlLmxvZyhtb21lbnQoKS5zdGFydE9mKCdtb250aCcpLnRvSVNPU3RyaW5nKCkpOwogICAgICBjb25zb2xlLmxvZyhtb21lbnQoKS5lbmRPZignbW9udGgnKS50b0lTT1N0cmluZygpKTsKICAgIH0sCiAgICB0b2dnbGVOZXdEaWFsb2c6IGZ1bmN0aW9uIHRvZ2dsZU5ld0RpYWxvZygpIHsKICAgICAgdGhpcy5uZXdEaWFsb2cgPSAhdGhpcy5uZXdEaWFsb2c7CiAgICB9LAogICAgaW50ZXJ2YWxGb3JtYXQ6IGZ1bmN0aW9uIGludGVydmFsRm9ybWF0KGludGVydmFsKSB7CiAgICAgIHJldHVybiBpbnRlcnZhbC50aW1lOwogICAgfSwKICAgIHNldFRvZGF5OiBmdW5jdGlvbiBzZXRUb2RheSgpIHsKICAgICAgdGhpcy5mb2N1cyA9ICIiOwogICAgfSwKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoKSB7CiAgICAgIHRoaXMuJHJlZnMuY2FsZW5kYXIucHJldigpOwogICAgfSwKICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIHRoaXMuJHJlZnMuY2FsZW5kYXIubmV4dCgpOwogICAgfQogIH0sIG1hcEFjdGlvbnMoewogICAgZ2V0RGVwYXJ0bWVudHM6ICJkZXBhcnRtZW50L2dldERlcGFydG1lbnRzIgogIH0pKQp9Ow=="},{"version":3,"sources":["DepAppointments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,cAAA,MAAA,yDAAA;AACA,eAAA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,cAAA,EAAA;AAAA,GAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,EADA;AAEA,MAAA,kBAAA,EAAA,IAFA;AAGA;AACA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA,MALA;AAMA,MAAA,IAAA,EAAA,IANA;AAOA,MAAA,YAAA,EAAA,EAPA;AASA;AACA,MAAA,SAAA,EAAA,KAVA;AAWA,MAAA,QAAA,EAAA;AAXA,KAAA;AAcA,GAnBA;AAqBA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,WAAA,EAAA,qBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,UAAA,CAAA,WAAA;AAAA;AADA,GAAA,CADA,CArBA;AA2BA,EAAA,OA3BA,qBA2BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,cAAA,EADA;;AAAA;AAEA,cAAA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA;AACA,eAFA,EAFA,CAMA;;;AACA,kBAAA,KAAA,CAAA,kBAAA,IAAA,IAAA,EAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,WAAA;;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA;AACA,iBAFA,EAEA,EAFA,CAAA;;AAGA,gBAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EALA,CAOA;;;AACA,gBAAA,KAAA,CAAA,eAAA;AACA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,GA7CA;AA+CA,EAAA,OAAA;AAEA,IAAA,eAFA,6BAEA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,GAAA,OAAA,CAAA,OAAA,EAAA,WAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,GAAA,KAAA,CAAA,OAAA,EAAA,WAAA,EAAA;AACA,KANA;AAQA,IAAA,eARA,6BAQA;AACA,WAAA,SAAA,GAAA,CAAA,KAAA,SAAA;AACA,KAVA;AAYA,IAAA,cAZA,0BAYA,QAZA,EAYA;AACA,aAAA,QAAA,CAAA,IAAA;AACA,KAdA;AAeA,IAAA,QAfA,sBAeA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,KAjBA;AAkBA,IAAA,IAlBA,kBAkBA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA,KApBA;AAqBA,IAAA,IArBA,kBAqBA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA;AAvBA,KAyBA,UAAA,CAAA;AACA,IAAA,cAAA,EAAA;AADA,GAAA,CAzBA;AA/CA,CAAA","sourcesContent":["<template>\r\n  <v-sheet class=\"pa-5\">\r\n    <div class=\"d-flex align-center justify-space-between flex-column flex-sm-row\">\r\n      <h2>Agendas des services</h2>\r\n      <div style=\"width: 50%\">\r\n      <v-select\r\n        :items=\"departmentItems\"\r\n        v-model=\"selectedDepartment\"\r\n        outlined\r\n        hide-details\r\n        dense\r\n      />\r\n      </div>\r\n    </div>\r\n    <v-divider class=\"mt-5\"></v-divider>\r\n    <v-card flat v-if=\"selectedDepartment != null\">\r\n      <v-card-text class=\"d-flex flex-column flex-sm-column flex-md-row align-center justify-space-between flex-row mb-3\">\r\n        <div class=\"left order-2 order-md-1 mb-2 mb-md-0\">\r\n          <v-btn\r\n            text\r\n            small\r\n            outlined\r\n            class=\"mr-2\"\r\n            color=\"grey darken-2\"\r\n            @click.stop=\"prev\"\r\n          >\r\n            <v-icon small> mdi-chevron-left </v-icon>\r\n          </v-btn>\r\n          <v-btn\r\n            text\r\n            small\r\n            outlined\r\n            color=\"grey darken-2\"\r\n            class=\"mr-2\"\r\n            @click.stop=\"next\"\r\n          >\r\n            <v-icon small> mdi-chevron-right </v-icon>\r\n          </v-btn>\r\n          <v-btn\r\n            outlined\r\n            small\r\n            text\r\n            class=\"mr-4\"\r\n            color=\"grey darken-2\"\r\n            @click.stop=\"setToday\"\r\n          >\r\n            Today\r\n          </v-btn>\r\n        </div>\r\n        <div class=\"middle order-1 order-md-2 mb-2 mb-md-0\">\r\n          <v-toolbar-title v-if=\"$refs.calendar\">\r\n            {{ $refs.calendar.title }}\r\n          </v-toolbar-title>\r\n        </div>\r\n        <div class=\"right order-3 order-md-3 mb-2 mb-md-0\">\r\n          <v-btn\r\n            text\r\n            small\r\n            outlined\r\n            color=\"grey darken-2\"\r\n            class=\"mr-2\"\r\n            @click.stop=\"calendarType = 'month'\"\r\n          >\r\n            Month\r\n          </v-btn>\r\n          <v-btn\r\n            text\r\n            small\r\n            outlined\r\n            color=\"grey darken-2\"\r\n            class=\"mr-2\"\r\n            @click.stop=\"calendarType = 'week'\"\r\n          >\r\n            Week\r\n          </v-btn>\r\n          <v-btn\r\n            text\r\n            small\r\n            outlined\r\n            color=\"grey darken-2\"\r\n            @click.stop=\"calendarType = 'day'\"\r\n          >\r\n            Day\r\n          </v-btn>\r\n        </div>\r\n      </v-card-text>\r\n    </v-card>\r\n    <v-sheet class=\"calendar-sheet\" style=\"height: 65vh\" v-if=\"selectedDepartment != null\">\r\n      <v-btn\r\n        @click.stop=\"toggleNewDialog\"\r\n        color=\"#38957F\"\r\n        dark\r\n        absolute\r\n        bottom\r\n        right\r\n        fab\r\n      >\r\n        <v-icon>mdi-plus</v-icon>\r\n      </v-btn>\r\n      <v-calendar\r\n        ref=\"calendar\"\r\n        v-model=\"focus\"\r\n        :locale=\"lang\"\r\n        :events=\"appointments\"\r\n        :interval-format=\"intervalFormat\"\r\n        :short-weekdays=\"false\"\r\n        color=\"primary\"\r\n        :type=\"calendarType\"\r\n      >\r\n      </v-calendar>\r\n    </v-sheet>\r\n    <v-dialog v-model=\"newDialog\" width=\"720\" persistent scrollable>\r\n      <pre-appointment :edit=\"formType\" :department=\"selectedDepartment\" :toggle=\"toggleNewDialog\"/>\r\n    </v-dialog>\r\n  </v-sheet>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport moment from 'moment'\r\nimport PreAppointment from '../../components/hospital/department/PreAppointment.vue';\r\nexport default {\r\n\r\n  components: { PreAppointment },\r\n\r\n  data() {\r\n    return {\r\n      departmentItems: [],\r\n      selectedDepartment: null,\r\n      // Calendar\r\n      focus: \"\",\r\n      calendarType: \"week\",\r\n      lang: \"fr\",\r\n      appointments: [],\r\n\r\n      // appointment\r\n      newDialog: false,\r\n      formType: false,\r\n      \r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      departments: (state) => state.department.departments\r\n    })\r\n  },\r\n\r\n  async mounted() {\r\n    await this.getDepartments();\r\n    this.departments.forEach((value, key) => {\r\n      this.departmentItems.push(value.customId)\r\n    })\r\n\r\n    // Calendar\r\n    if(this.selectedDepartment != null) {\r\n      this.$refs.calendar.checkChange();\r\n      setTimeout(() => {\r\n        this.$refs.calendar.move(1);\r\n      }, 10);\r\n      this.$refs.calendar.move(-1);\r\n\r\n      // Appointments\r\n      this.getAppointments()\r\n    }\r\n    \r\n  },\r\n\r\n  methods: {\r\n\r\n    getAppointments() {\r\n      console.log(this.calendarType)\r\n      console.log(moment().startOf('month').toISOString())\r\n      console.log(moment().endOf('month').toISOString())\r\n    },\r\n\r\n    toggleNewDialog() {\r\n      this.newDialog = !this.newDialog\r\n    },\r\n\r\n    intervalFormat(interval) {\r\n      return interval.time;\r\n    },\r\n    setToday() {\r\n      this.focus = \"\";\r\n    },\r\n    prev() {\r\n      this.$refs.calendar.prev();\r\n    },\r\n    next() {\r\n      this.$refs.calendar.next();\r\n    },\r\n\r\n    ...mapActions({\r\n      getDepartments: \"department/getDepartments\",\r\n    })\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":"src/views/hospitalHead"}]}