{"remainingRequest":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\services\\api.js","dependencies":[{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\src\\services\\api.js","mtime":1628951031523},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Deft\\Desktop\\medimi\\medimi-office\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwp2YXIgYmFzZURvbWFpbiA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX0VORFBPSU5UOwp2YXIgYmFzZVVSTCA9ICIiLmNvbmNhdChiYXNlRG9tYWluLCAiL3YxIik7CnZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYmFzZVVSTAp9KTsgLy8gc2V0IGF1dGggdG9rZW4gaWYgcHJlc2VudAoKdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhUb2tlbicpOwoKaWYgKHRva2VuKSB7CiAgaW5zdGFuY2UuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwp9CgppbnN0YW5jZS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIl0gPSAnKic7Cmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aFRva2VuJyk7CiAgcm91dGVyLnB1c2goJy9sb2dpbicpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7"},{"version":3,"sources":["C:/Users/Deft/Desktop/medimi/medimi-office/src/services/api.js"],"names":["axios","router","baseDomain","process","env","VUE_APP_API_ENDPOINT","baseURL","instance","create","token","localStorage","getItem","defaults","headers","common","interceptors","response","use","res","err","status","Promise","reject","removeItem","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,oBAA/B;AACA,IAAMC,OAAO,aAAMJ,UAAN,QAAb;AAEA,IAAMK,QAAQ,GAAGP,KAAK,CAACQ,MAAN,CAAa;AAC5BF,EAAAA,OAAO,EAAPA;AAD4B,CAAb,CAAjB,C,CAIA;;AACA,IAAMG,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;;AAGA,IAAGF,KAAH,EAAU;AACRF,EAAAA,QAAQ,CAACK,QAAT,CAAkBC,OAAlB,CAA0BC,MAA1B,CAAiC,eAAjC,qBAA8DL,KAA9D;AACD;;AAEDF,QAAQ,CAACK,QAAT,CAAkBC,OAAlB,CAA0BC,MAA1B,CAAiC,6BAAjC,IAAkE,GAAlE;AAEAP,QAAQ,CAACQ,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CACE,UAASC,GAAT,EAAc;AACZ,SAAOA,GAAP;AACD,CAHH,EAIE,UAASC,GAAT,EAAc;AAEZ,MAAGA,GAAG,CAACH,QAAJ,CAAaI,MAAb,KAAwB,GAA3B,EAAgC,OAAOC,OAAO,CAACC,MAAR,CAAeH,GAAf,CAAP;AAEhCT,EAAAA,YAAY,CAACa,UAAb,CAAwB,WAAxB;AACAtB,EAAAA,MAAM,CAACuB,IAAP,CAAY,QAAZ;AAED,CAXH;AAcA,eAAejB,QAAf","sourcesContent":["import axios from \"axios\";\r\nimport router from \"@/router\"\r\n\r\nconst baseDomain = process.env.VUE_APP_API_ENDPOINT\r\nconst baseURL = `${baseDomain}/v1`\r\n\r\nconst instance = axios.create({\r\n  baseURL\r\n})\r\n\r\n// set auth token if present\r\nconst token = localStorage.getItem('authToken')\r\n\r\n\r\nif(token) {\r\n  instance.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\r\n}\r\n\r\ninstance.defaults.headers.common[\"Access-Control-Allow-Origin\"] = '*'\r\n\r\ninstance.interceptors.response.use(\r\n  function(res) {\r\n    return res\r\n  },\r\n  function(err) {\r\n\r\n    if(err.response.status === 401) return Promise.reject(err)\r\n\r\n    localStorage.removeItem('authToken')\r\n    router.push('/login')\r\n\r\n  }\r\n)\r\n\r\nexport default instance"]}]}